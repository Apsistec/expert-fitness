(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{OPUe:function(t,e,n){"use strict";n.r(e),n.d(e,"AdminDashboardPageModule",(function(){return D}));var o=n("ofXK"),i=n("3Pt+"),c=n("TEn/"),r=n("i2L+"),b=n("tyNb"),s=n("mrSG"),l=n("sh4j"),a=n("fXoL"),d=n("7Vn+"),u=n("EYIl"),h=n("I/3d"),m=n("UbJi");let T=(()=>{class t{constructor(t,e,n){this.db=t,this.auth=e,this.afAuth=n}getUserFeed(){return this.db.collection("feed",t=>t.where("from","==","")).valueChanges()}getUsers(){return this.db.collection("users",t=>t.where("role","==","USER")).valueChanges()}getCustomers(){return this.db.collection("users",t=>t.where("subStatus","==","current")).valueChanges()}getTrainers(){return this.db.collection("trainers",t=>t.where("role","==","TRAINER")).valueChanges()}getAdmins(){return this.db.collection("admins",t=>t.where("role","==","ADMIN")).valueChanges()}}return t.\u0275fac=function(e){return new(e||t)(a.Xb(h.a),a.Xb(d.a),a.Xb(m.a))},t.\u0275prov=a.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var S=n("37t3");function g(t,e){1&t&&a.Ob(0,"ion-icon",20)}function f(t,e){1&t&&a.Ob(0,"ion-icon",21)}function p(t,e){if(1&t){const t=a.Ub();a.Tb(0,"ion-item",14),a.bc("click",(function(){a.tc(t);const n=e.$implicit;return a.fc().openTicket(n.id)})),a.Bc(1,g,1,0,"ion-icon",15),a.Bc(2,f,1,0,"ion-icon",16),a.Tb(3,"ion-label"),a.Tb(4,"ion-text",9),a.Tb(5,"h2"),a.Dc(6),a.Sb(),a.Sb(),a.Tb(7,"ion-text",17),a.Tb(8,"p",18),a.Dc(9),a.Sb(),a.Sb(),a.Sb(),a.Tb(10,"ion-label",19),a.Tb(11,"ion-note",9),a.Dc(12),a.Sb(),a.Ob(13,"br"),a.Tb(14,"ion-note",9),a.Dc(15),a.gc(16,"date"),a.Sb(),a.Sb(),a.Sb()}if(2&t){const t=e.$implicit;a.Cb(1),a.lc("ngIf",0==t.status),a.Cb(1),a.lc("ngIf",1==t.status),a.Cb(4),a.Ec(t.title),a.Cb(3),a.Ec(t.desc),a.Cb(3),a.Fc(" ",t.id," "),a.Cb(3),a.Fc(" ",a.ic(16,6,1e3*(null==t.created_at?null:t.created_at.seconds),"MMM d H:HH")," ")}}function C(t,e){if(1&t&&(a.Tb(0,"ion-item"),a.Tb(1,"ion-avatar"),a.Ob(2,"img",22),a.Sb(),a.Dc(3," \xa0 \xa0 "),a.Tb(4,"ion-label"),a.Tb(5,"ion-text",9),a.Dc(6),a.Sb(),a.Ob(7,"br"),a.Tb(8,"ion-note",9),a.Dc(9),a.Sb(),a.Sb(),a.Sb()),2&t){const t=e.$implicit;a.Cb(2),a.lc("src",t.photoURL||"../assets/img/dummy-user.png",a.uc),a.Cb(4),a.Fc(" ",t.name," "),a.Cb(3),a.Fc(" ",t.email," ")}}function O(t,e){if(1&t&&(a.Tb(0,"ion-item",23),a.Tb(1,"ion-avatar"),a.Ob(2,"img",22),a.Sb(),a.Dc(3," \xa0 \xa0 "),a.Tb(4,"ion-label"),a.Tb(5,"ion-text",9),a.Dc(6),a.Sb(),a.Ob(7,"br"),a.Tb(8,"ion-note",9),a.Dc(9),a.Sb(),a.Ob(10,"br"),a.Tb(11,"ion-note",24),a.Dc(12," Gold "),a.Sb(),a.Tb(13,"ion-note",25),a.Dc(14," Silver "),a.Sb(),a.Tb(15,"ion-note",24),a.Dc(16," Bronze "),a.Sb(),a.Sb(),a.Sb()),2&t){const t=e.$implicit;a.Cb(2),a.lc("src",t.photoURL||"../assets/img/dummy-user.png",a.uc),a.Cb(4),a.Fc(" ",t.name," "),a.Cb(3),a.Fc(" ",t.email," "),a.Cb(2),a.lc("hidden",!t.gold),a.Cb(2),a.lc("hidden",!t.silver),a.Cb(2),a.lc("hidden",!t.bronze)}}const w=[{path:"",component:(()=>{class t{constructor(t,e,n,o){this.auth=t,this.ticket=e,this.modalCtrl=n,this.collection=o,this.title="Admin Dashboard"}ngOnInit(){this.admins=this.collection.getAdmins(),this.users=this.collection.getUsers(),this.customers=this.collection.getCustomers(),this.feed=this.collection.getUserFeed(),this.trainers=this.collection.getTrainers(),this.tickets=this.ticket.getAdminTickets()}openTicket(t){return Object(s.a)(this,void 0,void 0,(function*(){const e=yield this.modalCtrl.create({component:l.a,componentProps:{id:t}});yield e.present()}))}signOut(){this.auth.SignOut()}}return t.\u0275fac=function(e){return new(e||t)(a.Nb(d.a),a.Nb(u.a),a.Nb(c.Q),a.Nb(T))},t.\u0275cmp=a.Hb({type:t,selectors:[["app-admin-dashboard"]],decls:43,vars:10,consts:[[3,"title"],["fullscreen",""],["size","9"],["color","medium"],["color","secondary"],["button","","class","ion-text-wrap",3,"click",4,"ngFor","ngForOf"],["size","3"],[4,"ngFor","ngForOf"],[1,"card-subtitle-global"],["color","dark"],[1,"toolbar-global"],["inputmode","search","type","search","autocomplete","on","animated","true",2,"border-radius","5em"],[1,"ion-text-center","ion-text-wrap"],["class","userlist",4,"ngFor","ngForOf"],["button","",1,"ion-text-wrap",3,"click"],["name","radio-button-off","color","light","slot","start",4,"ngIf"],["name","done-all","color","success","slot","start",4,"ngIf"],["color","light"],[1,"ion-text-wrap"],["slot","start"],["name","radio-button-off","color","light","slot","start"],["name","done-all","color","success","slot","start"],[3,"src"],[1,"userlist"],["color","dark",3,"hidden"],["color","tertiary",3,"hidden"]],template:function(t,e){1&t&&(a.Ob(0,"app-header",0),a.Tb(1,"ion-content",1),a.Tb(2,"ion-grid"),a.Tb(3,"ion-row"),a.Tb(4,"ion-grid"),a.Tb(5,"ion-row"),a.Tb(6,"ion-col",2),a.Tb(7,"ion-card",3),a.Tb(8,"ion-card-header"),a.Tb(9,"ion-card-title"),a.Tb(10,"ion-label",4),a.Dc(11," Trouble Tickets "),a.Sb(),a.Sb(),a.Sb(),a.Tb(12,"ion-list"),a.Bc(13,p,17,9,"ion-item",5),a.gc(14,"async"),a.Sb(),a.Sb(),a.Sb(),a.Tb(15,"ion-col",6),a.Tb(16,"ion-card",3),a.Tb(17,"ion-card-header"),a.Tb(18,"ion-card-title"),a.Tb(19,"ion-label",4),a.Dc(20," Admins "),a.Sb(),a.Sb(),a.Sb(),a.Tb(21,"ion-list"),a.Bc(22,C,10,3,"ion-item",7),a.gc(23,"async"),a.Sb(),a.Sb(),a.Tb(24,"ion-card",3),a.Tb(25,"ion-card-header"),a.Tb(26,"ion-card-title"),a.Tb(27,"ion-label",4),a.Dc(28," All Users "),a.Sb(),a.Sb(),a.Tb(29,"ion-card-subtitle",8),a.Tb(30,"ion-label",9),a.Dc(31," Unpaid, Current & Cancelled "),a.Sb(),a.Sb(),a.Tb(32,"ion-toolbar",10),a.Ob(33,"ion-searchbar",11),a.Ob(34,"br"),a.Tb(35,"ion-text",9),a.Tb(36,"sup",12),a.Dc(37,"Search by any field"),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Tb(38,"ion-list"),a.Bc(39,O,17,6,"ion-item",13),a.gc(40,"async"),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Tb(41,"ion-footer"),a.Ob(42,"ion-toolbar",10),a.Sb()),2&t&&(a.lc("title",e.title),a.Cb(13),a.lc("ngForOf",a.hc(14,4,e.tickets)),a.Cb(9),a.lc("ngForOf",a.hc(23,6,e.admins)),a.Cb(17),a.lc("ngForOf",a.hc(40,8,e.users)))},directives:[S.a,c.n,c.r,c.F,c.m,c.h,c.j,c.l,c.x,c.y,o.k,c.k,c.M,c.G,c.W,c.J,c.q,c.w,o.l,c.D,c.t,c.c],pipes:[o.b,o.e],styles:['body[_ngcontent-%COMP%]{counter-reset:user1}.userlist[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:before{counter-increment:user1;content:counter(user1) ": "}']}),t})()}];let y=(()=>{class t{}return t.\u0275mod=a.Lb({type:t}),t.\u0275inj=a.Kb({factory:function(e){return new(e||t)},imports:[[b.j.forChild(w)],b.j]}),t})(),D=(()=>{class t{}return t.\u0275mod=a.Lb({type:t}),t.\u0275inj=a.Kb({factory:function(e){return new(e||t)},imports:[[o.c,i.f,c.N,r.a,y]]}),t})()}}]);