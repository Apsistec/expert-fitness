(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["_home-products-products-module"],{

/***/ "7lFq":
/*!***************************************************!*\
  !*** ./src/app/_home/products/products.page.scss ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".page-content {\n  --background: var(--ion-color-light-shade);\n}\n\n.page-card {\n  --background: var(--ion-color-medium-shade);\n  border-radius: 12px;\n}\n\n.page-card-header {\n  border: 2px solid transparent;\n  border-radius: 12px;\n  --background: var(--ion-color-primary-shade);\n}\n\n.page-card-title {\n  color: var(--ion-color-warning-tint);\n  font: 800 16px/1 \"Roboto\", sans-serif;\n  text-transform: capitalize;\n  font-variant: small-caps;\n}\n\n.title-card {\n  color: var(--ion-color-tertiary-tint);\n  font: 800 16px/1 \"Roboto\", sans-serif;\n  text-transform: uppercase;\n}\n\n.card-subtitle-products {\n  font: 700 16px/1 \"Open Sans\", sans-serif;\n  color: var(--ion-color-light-shade);\n  text-transform: capitalize;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvX2hvbWUvcHJvZHVjdHMvcHJvZHVjdHMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsMENBQUE7QUFDRjs7QUFDQTtFQUNFLDJDQUFBO0VBQ0EsbUJBQUE7QUFFRjs7QUFDQTtFQUNFLDZCQUFBO0VBQ0EsbUJBQUE7RUFDQSw0Q0FBQTtBQUVGOztBQUNBO0VBQ0Usb0NBQUE7RUFDQSxxQ0FBQTtFQUNBLDBCQUFBO0VBQ0Esd0JBQUE7QUFFRjs7QUFDQTtFQUNFLHFDQUFBO0VBQ0EscUNBQUE7RUFDQSx5QkFBQTtBQUVGOztBQUNBO0VBQ0Usd0NBQUE7RUFDQSxtQ0FBQTtFQUNBLDBCQUFBO0FBRUYiLCJmaWxlIjoic3JjL2FwcC9faG9tZS9wcm9kdWN0cy9wcm9kdWN0cy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucGFnZS1jb250ZW50IHtcclxuICAtLWJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1saWdodC1zaGFkZSk7XHJcbn1cclxuLnBhZ2UtY2FyZCB7XHJcbiAgLS1iYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItbWVkaXVtLXNoYWRlKTtcclxuICBib3JkZXItcmFkaXVzOiAxMnB4O1xyXG59XHJcblxyXG4ucGFnZS1jYXJkLWhlYWRlciB7XHJcbiAgYm9yZGVyOiAycHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgYm9yZGVyLXJhZGl1czogMTJweDtcclxuICAtLWJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5LXNoYWRlKTtcclxufVxyXG5cclxuLnBhZ2UtY2FyZC10aXRsZSB7XHJcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci13YXJuaW5nLXRpbnQpO1xyXG4gIGZvbnQ6IDgwMCAxNnB4LzEgXCJSb2JvdG9cIiwgc2Fucy1zZXJpZjtcclxuICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcclxuICBmb250LXZhcmlhbnQ6IHNtYWxsLWNhcHM7XHJcbn1cclxuXHJcbi50aXRsZS1jYXJkIHtcclxuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXRlcnRpYXJ5LXRpbnQpO1xyXG4gIGZvbnQ6IDgwMCAxNnB4LzEgXCJSb2JvdG9cIiwgc2Fucy1zZXJpZjtcclxuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG59XHJcblxyXG4uY2FyZC1zdWJ0aXRsZS1wcm9kdWN0cyB7XHJcbiAgZm9udDogNzAwIDE2cHgvMSBcIk9wZW4gU2Fuc1wiLCBzYW5zLXNlcmlmO1xyXG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItbGlnaHQtc2hhZGUpO1xyXG4gIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO1xyXG59XHJcbiJdfQ== */");

/***/ }),

/***/ "KBKh":
/*!*****************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/_home/products/products.page.html ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<app-header></app-header>\n<ion-content fullscreen class=\"page-content\">\n  <ion-grid>\n    <ion-row>\n      <ion-col size=\"12\">\n        <ion-card color=\"secondary\" class=\"title-card ion-text-center ion-padding \">\n          <ion-card-title class=\"page-card-title\">\n            <ion-text>\n              <h1>Pricing Plans</h1>\n            </ion-text>\n          </ion-card-title>\n          <ion-card-subtitle class=\"card-subtitle-products\">\n            <ion-text>\n              <h4>Choose one of our Awesome plans</h4>\n            </ion-text>\n          </ion-card-subtitle>\n        </ion-card>\n      </ion-col>\n    </ion-row>\n\n    <ng-component *ngIf=\"signedIn == true; else getSignedIn\">\n\n      <ion-row class=\"ion-justify-content-around\">\n        <ng-component *ngIf=\"user && user.subStatus !== 'active' || 'trialing' then purchase; else paid\">\n            <ion-spinner>Loading...</ion-spinner>\n\n          <ion-col #purchase size=\"12\" size-md=\"3\" *ngFor=\"let product of products\" class=\"ion-text-left ion-align-self-stretch\">\n            <ion-card class=\"ion-padding page-card\">\n              <ion-card-header class=\"page-card-header\">\n                <ion-card-title class=\"page-card-title\">\n                  <ion-text class=\"ion-text-start\">\n                    <h3>{{ product.name }}</h3>\n                  </ion-text>\n                  <ion-text class=\"ion-text-end\">\n                    <h2>{{ product.price }}</h2>\n                  </ion-text>\n                </ion-card-title>\n\n              </ion-card-header>\n              <ion-card-content>\n              <hr/>\n              <ion-list style=\"border-radius: 12px\">\n                <ion-list-header class=\"list-header-global\">\n                  <ion-title>\n                    <ion-text> Features: </ion-text>\n                  </ion-title>\n                </ion-list-header>\n                <ion-item>\n                  <p>\n                    {{ product.description }}\n                  </p>\n                </ion-item>\n              </ion-list>\n            </ion-card-content>\n            <ion-footer class=\"ion-text-center ion-padding\">\n              <ion-button\n                color=\"tertiary\"\n                size=\"large\"\n                (click)=\"subscribe()\"\n                >Subscribe to {{ product.name }}</ion-button>\n              </ion-footer>\n            </ion-card>\n          </ion-col>\n\n            <ng-template #paid>\n              <ion-col>\n                <ion-card>\n                  <ion-card-title>\n                    <ion-text>\n                      <h2>My subscription</h2>\n                    </ion-text>\n                  </ion-card-title>\n                  <ion-card-content>\n                    <ion-text>\n                      <h2>\n                        <!-- You are currently paying {{ subscription.unit_price | currency }} -->\n                      </h2>\n                    </ion-text>\n                    <ion-text>\n                      <h2>Stripe Customer Portal</h2>\n                    </ion-text>\n                    <ion-text>\n                      <h3>View invoices, update subscription & payment methods</h3>\n                    </ion-text>\n                    <ion-button color=\"tertiary\" routerLink=\"\">\n                      <ion-text>\n                        Access Customer Portal\n                      </ion-text>\n                    </ion-button>\n                  </ion-card-content>\n                </ion-card>\n              </ion-col>\n            </ng-template>\n        </ng-component>\n      </ion-row>\n\n      <ng-template #getSignedIn>\n\n        <ion-row>\n        <ion-col>\n\n        </ion-col>\n      </ion-row>\n    </ng-template>\n    </ng-component>\n\n\n  </ion-grid>\n</ion-content>\n\n\n\n\n\n\n\n\n");

/***/ }),

/***/ "Rz+A":
/*!***************************************************!*\
  !*** ./src/app/_home/products/products.module.ts ***!
  \***************************************************/
/*! exports provided: ProductsPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProductsPageModule", function() { return ProductsPageModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_shared/shared.module */ "i2L+");
/* harmony import */ var _products_routing_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./products-routing.module */ "oPry");
/* harmony import */ var _products_page__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./products.page */ "fUEd");








let ProductsPageModule = class ProductsPageModule {
};
ProductsPageModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["NgModule"])({
        imports: [
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"],
            _products_routing_module__WEBPACK_IMPORTED_MODULE_6__["ProductsPageRoutingModule"],
            _shared_shared_module__WEBPACK_IMPORTED_MODULE_5__["SharedModule"],
        ],
        declarations: [_products_page__WEBPACK_IMPORTED_MODULE_7__["ProductsPage"]],
    })
], ProductsPageModule);



/***/ }),

/***/ "fUEd":
/*!*************************************************!*\
  !*** ./src/app/_home/products/products.page.ts ***!
  \*************************************************/
/*! exports provided: ProductsPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProductsPage", function() { return ProductsPage; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _raw_loader_products_page_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! raw-loader!./products.page.html */ "KBKh");
/* harmony import */ var _products_page_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./products.page.scss */ "7lFq");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_fire_functions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/fire/functions */ "RgrY");
/* harmony import */ var _angular_fire_firestore__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/fire/firestore */ "I/3d");
/* harmony import */ var src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/_services/auth.service */ "7Vn+");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs/operators */ "kU1M");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../environments/environment */ "AytR");
/* harmony import */ var _angular_fire_auth__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/fire/auth */ "UbJi");
/* harmony import */ var src_app_services_message_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! src/app/_services/message.service */ "Qskx");
/* harmony import */ var _stripe_stripe_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @stripe/stripe-js */ "v4r+");












let ProductsPage = class ProductsPage {
    constructor(db, fun, authService, afAuth, messageService) {
        this.db = db;
        this.fun = fun;
        this.authService = authService;
        this.afAuth = afAuth;
        this.messageService = messageService;
    }
    ngOnInit() {
        this.user = this.authService.authState$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["take"])(1));
        if (this.user && this.user !== null) {
            this.signedIn = true;
            this.startDataListeners();
        }
        else {
            this.signedIn = false;
        }
    }
    startDataListeners() {
        //   // Get all our products and render them to the page
        //   const products = document.querySelector('.products');
        //   const template = document.querySelector('#product');
        // this.db.collection<products>
        //   .where('active', '==', true)
        //   .get()
        //   .then(function (querySnapshot) {
        //     querySnapshot.forEach(async function (doc) {
        //       const priceSnap = await doc.ref
        //         .collection('prices')
        //         .orderBy('unit_amount')
        //         .get();
        //       if (!'content' in document.createElement('template')) {
        //         console.error('Your browser doesn’t support HTML template elements.');
        //         return;
        //       }
        this.products = this.db.collection('products', ref => ref.where('active', '==', true))
            .get();
        // if (!'content' in document.createElement('template')) {
        //   console.error('Your browser doesn’t support HTML template elements.');
        //   return;
    }
    //         const product = doc.data();
    //         const container = template.content.cloneNode(true);
    //         container.querySelector('h2').innerText = product.name.toUpperCase();
    //         container.querySelector('.description').innerText =
    //           product.description.toUpperCase() || '';
    //         // Prices dropdown
    //         priceSnap.docs.forEach((doc) => {
    //           const priceId = doc.id;
    //           const priceData = doc.data();
    //           const content = document.createTextNode(
    //             `${new Intl.NumberFormat('en-US', {
    //               style: 'currency',
    //               currency: priceData.currency,
    //             }).format((priceData.unit_amount / 100).toFixed(2))} per ${
    //               priceData.interval
    //             }`
    //           );
    //           const option = document.createElement('option');
    //           option.value = priceId;
    //           option.appendChild(content);
    //           container.querySelector('#price').appendChild(option);
    //         });
    //         if (product.images.length) {
    //           const img = container.querySelector('img');
    //           img.src = product.images[0];
    //           img.alt = product.name;
    //         }
    //         const form = container.querySelector('form');
    //         form.addEventListener('submit', subscribe);
    //         products.appendChild(container);
    //       });
    //     });
    // Get all subscriptions for the customer
    getSubscriptions() {
        const snapshot = this.db.collection('customers')
            .doc(this.user.uid)
            .collection('subscriptions', ref => ref.where('status', 'in', ['trialing', 'active']));
        if (snapshot == null) {
            // Show products
            this.products = true;
        }
        else {
            // In this implementation we only expect one Subscription to exist
            this.subscriptions = snapshot.doc[0].data();
            const priceData = this.subscriptions.price.get().data();
            return;
        }
    }
    // Checkout handler
    subscribe(event) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            event.preventDefault();
            const formData = new FormData(event.target);
            const docRef = yield this.db
                .collection('customers')
                .doc(this.user.uid)
                .collection('checkout_sessions')
                .add({
                price: formData.get('price'),
                allow_promotion_codes: true,
                tax_rates: _environments_environment__WEBPACK_IMPORTED_MODULE_8__["environment"].taxRates,
                success_url: window.location.origin,
                cancel_url: window.location.origin,
                metadata: {
                    tax_rate: '10% sales tax exclusive',
                },
            });
            // Wait for the CheckoutSession to get attached by the extension
            docRef.onSnapshot((snap) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                const { error, sessionId } = snap.data();
                // Show an error to your customer and then inspect your function logs.
                if (error) {
                    this.messageService.errorAlert(error);
                }
                // We have a session, let's redirect to Checkout
                // Init Stripe
                if (sessionId) {
                    const stripe = yield Object(_stripe_stripe_js__WEBPACK_IMPORTED_MODULE_11__["loadStripe"])(_environments_environment__WEBPACK_IMPORTED_MODULE_8__["environment"].stripePubKey);
                    stripe.redirectToCheckout({ sessionId });
                }
            }));
        });
    }
    // Billing portal handler
    openBillingPortal() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            // Call billing portal function
            const functionRef = this.fun.httpsCallable('ext-firestore-stripe-subscriptions-createPortalLink');
            const url = yield functionRef({ returnUrl: window.location.origin });
            return url;
        });
    }
    // Get custom claim role helper
    get customerRole() {
        this.authService.user$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["map"])(user => {
            const customerRole = user.role;
        }));
        return this.customerRole;
    }
};
ProductsPage.ctorParameters = () => [
    { type: _angular_fire_firestore__WEBPACK_IMPORTED_MODULE_5__["AngularFirestore"] },
    { type: _angular_fire_functions__WEBPACK_IMPORTED_MODULE_4__["AngularFireFunctions"] },
    { type: src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_6__["AuthService"] },
    { type: _angular_fire_auth__WEBPACK_IMPORTED_MODULE_9__["AngularFireAuth"] },
    { type: src_app_services_message_service__WEBPACK_IMPORTED_MODULE_10__["MessageService"] }
];
ProductsPage = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'app-products',
        template: _raw_loader_products_page_html__WEBPACK_IMPORTED_MODULE_1__["default"],
        styles: [_products_page_scss__WEBPACK_IMPORTED_MODULE_2__["default"]]
    })
], ProductsPage);



/***/ }),

/***/ "oPry":
/*!***********************************************************!*\
  !*** ./src/app/_home/products/products-routing.module.ts ***!
  \***********************************************************/
/*! exports provided: ProductsPageRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProductsPageRoutingModule", function() { return ProductsPageRoutingModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _products_page__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./products.page */ "fUEd");




const routes = [
    {
        path: '',
        component: _products_page__WEBPACK_IMPORTED_MODULE_3__["ProductsPage"]
    }
];
let ProductsPageRoutingModule = class ProductsPageRoutingModule {
};
ProductsPageRoutingModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        imports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"].forChild(routes)],
        exports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]],
    })
], ProductsPageRoutingModule);



/***/ }),

/***/ "v4r+":
/*!***********************************************************!*\
  !*** ./node_modules/@stripe/stripe-js/dist/stripe.esm.js ***!
  \***********************************************************/
/*! exports provided: loadStripe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadStripe", function() { return loadStripe; });
var V3_URL = 'https://js.stripe.com/v3';
var V3_URL_REGEX = /^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/;
var EXISTING_SCRIPT_MESSAGE = 'loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used';
var findScript = function findScript() {
  var scripts = document.querySelectorAll("script[src^=\"".concat(V3_URL, "\"]"));

  for (var i = 0; i < scripts.length; i++) {
    var script = scripts[i];

    if (!V3_URL_REGEX.test(script.src)) {
      continue;
    }

    return script;
  }

  return null;
};

var injectScript = function injectScript(params) {
  var queryString = params && !params.advancedFraudSignals ? '?advancedFraudSignals=false' : '';
  var script = document.createElement('script');
  script.src = "".concat(V3_URL).concat(queryString);
  var headOrBody = document.head || document.body;

  if (!headOrBody) {
    throw new Error('Expected document.body not to be null. Stripe.js requires a <body> element.');
  }

  headOrBody.appendChild(script);
  return script;
};

var registerWrapper = function registerWrapper(stripe, startTime) {
  if (!stripe || !stripe._registerWrapper) {
    return;
  }

  stripe._registerWrapper({
    name: 'stripe-js',
    version: "1.11.0",
    startTime: startTime
  });
};

var stripePromise = null;
var loadScript = function loadScript(params) {
  // Ensure that we only attempt to load Stripe.js at most once
  if (stripePromise !== null) {
    return stripePromise;
  }

  stripePromise = new Promise(function (resolve, reject) {
    if (typeof window === 'undefined') {
      // Resolve to null when imported server side. This makes the module
      // safe to import in an isomorphic code base.
      resolve(null);
      return;
    }

    if (window.Stripe && params) {
      console.warn(EXISTING_SCRIPT_MESSAGE);
    }

    if (window.Stripe) {
      resolve(window.Stripe);
      return;
    }

    try {
      var script = findScript();

      if (script && params) {
        console.warn(EXISTING_SCRIPT_MESSAGE);
      } else if (!script) {
        script = injectScript(params);
      }

      script.addEventListener('load', function () {
        if (window.Stripe) {
          resolve(window.Stripe);
        } else {
          reject(new Error('Stripe.js not available'));
        }
      });
      script.addEventListener('error', function () {
        reject(new Error('Failed to load Stripe.js'));
      });
    } catch (error) {
      reject(error);
      return;
    }
  });
  return stripePromise;
};
var initStripe = function initStripe(maybeStripe, args, startTime) {
  if (maybeStripe === null) {
    return null;
  }

  var stripe = maybeStripe.apply(undefined, args);
  registerWrapper(stripe, startTime);
  return stripe;
};

// own script injection.

var stripePromise$1 = Promise.resolve().then(function () {
  return loadScript(null);
});
var loadCalled = false;
stripePromise$1["catch"](function (err) {
  if (!loadCalled) {
    console.warn(err);
  }
});
var loadStripe = function loadStripe() {
  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  loadCalled = true;
  var startTime = Date.now();
  return stripePromise$1.then(function (maybeStripe) {
    return initStripe(maybeStripe, args, startTime);
  });
};




/***/ })

}]);
//# sourceMappingURL=_home-products-products-module.js.map