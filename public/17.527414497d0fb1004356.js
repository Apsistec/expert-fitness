(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{OPUe:function(t,e,n){"use strict";n.r(e),n.d(e,"AdminDashboardPageModule",(function(){return k}));var o=n("ofXK"),i=n("3Pt+"),c=n("TEn/"),r=n("i2L+"),b=n("tyNb"),s=n("mrSG"),a=n("sh4j"),l=n("fXoL"),d=n("7Vn+"),u=n("EYIl"),h=n("I/3d"),m=n("UbJi");let U=(()=>{class t{constructor(t,e,n){this.db=t,this.auth=e,this.afAuth=n}getUserFeed(){return this.db.collection("feed",t=>t.where("from","==","")).valueChanges()}getUsers(){return this.db.collection("users",t=>t.where("role","==","USER")).valueChanges()}getCustomers(){return this.db.collection("users",t=>t.where("subStatus","==","current")).valueChanges()}getTrainers(){return this.db.collection("trainers",t=>t.where("role","==","TRAINER")).valueChanges()}getAdmins(){return this.db.collection("admins",t=>t.where("role","==","ADMIN")).valueChanges()}}return t.\u0275fac=function(e){return new(e||t)(l.Yb(h.a),l.Yb(d.a),l.Yb(m.a))},t.\u0275prov=l.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var T=n("37t3"),g=n("JClc");function f(t,e){1&t&&l.Pb(0,"ion-icon",19)}function p(t,e){1&t&&l.Pb(0,"ion-icon",20)}function C(t,e){if(1&t){const t=l.Vb();l.Ub(0,"ion-item",13),l.cc("click",(function(){l.uc(t);const n=e.$implicit;return l.gc().openTicket(n.id)})),l.Dc(1,f,1,0,"ion-icon",14),l.Dc(2,p,1,0,"ion-icon",15),l.Ub(3,"ion-label"),l.Ub(4,"ion-text",8),l.Ub(5,"h2"),l.Fc(6),l.Tb(),l.Tb(),l.Ub(7,"ion-text",16),l.Ub(8,"p",17),l.Fc(9),l.Tb(),l.Tb(),l.Tb(),l.Ub(10,"ion-label",18),l.Ub(11,"ion-note",8),l.Fc(12),l.Tb(),l.Pb(13,"br"),l.Ub(14,"ion-note",8),l.Fc(15),l.hc(16,"date"),l.Tb(),l.Tb(),l.Tb()}if(2&t){const t=e.$implicit;l.Cb(1),l.mc("ngIf",0==t.status),l.Cb(1),l.mc("ngIf",1==t.status),l.Cb(4),l.Gc(t.title),l.Cb(3),l.Gc(t.desc),l.Cb(3),l.Hc(" ",t.id," "),l.Cb(3),l.Hc(" ",l.jc(16,6,1e3*(null==t.created_at?null:t.created_at.seconds),"MMM d H:HH")," ")}}function F(t,e){if(1&t&&(l.Ub(0,"ion-item"),l.Ub(1,"ion-avatar"),l.Pb(2,"img",21),l.Tb(),l.Fc(3," \xa0 \xa0 "),l.Ub(4,"ion-label"),l.Ub(5,"ion-text",8),l.Fc(6),l.Tb(),l.Pb(7,"br"),l.Ub(8,"ion-note",8),l.Fc(9),l.Tb(),l.Tb(),l.Tb()),2&t){const t=e.$implicit;l.Cb(2),l.mc("src",t.photoURL||"../assets/img/dummy-user.png",l.wc),l.Cb(4),l.Hc(" ",t.name," "),l.Cb(3),l.Hc(" ",t.email," ")}}function w(t,e){if(1&t&&(l.Ub(0,"ion-item",22),l.Ub(1,"ion-avatar"),l.Pb(2,"img",21),l.Tb(),l.Fc(3," \xa0 \xa0 "),l.Ub(4,"ion-label"),l.Ub(5,"ion-text",8),l.Fc(6),l.Tb(),l.Pb(7,"br"),l.Ub(8,"ion-note",8),l.Fc(9),l.Tb(),l.Pb(10,"br"),l.Ub(11,"ion-note",23),l.Fc(12," Gold "),l.Tb(),l.Ub(13,"ion-note",24),l.Fc(14," Silver "),l.Tb(),l.Ub(15,"ion-note",23),l.Fc(16," Bronze "),l.Tb(),l.Tb(),l.Tb()),2&t){const t=e.$implicit;l.Cb(2),l.mc("src",t.photoURL||"../assets/img/dummy-user.png",l.wc),l.Cb(4),l.Hc(" ",t.name," "),l.Cb(3),l.Hc(" ",t.email," "),l.Cb(2),l.mc("hidden",!t.gold),l.Cb(2),l.mc("hidden",!t.silver),l.Cb(2),l.mc("hidden",!t.bronze)}}const y=[{path:"",component:(()=>{class t{constructor(t,e,n,o){this.auth=t,this.ticket=e,this.modalCtrl=n,this.collection=o,this.title="Admin Dashboard"}ngOnInit(){this.admins=this.collection.getAdmins(),this.users=this.collection.getUsers(),this.customers=this.collection.getCustomers(),this.feed=this.collection.getUserFeed(),this.trainers=this.collection.getTrainers(),this.tickets=this.ticket.getAdminTickets()}openTicket(t){return Object(s.a)(this,void 0,void 0,(function*(){const e=yield this.modalCtrl.create({component:a.a,componentProps:{id:t}});yield e.present()}))}signOut(){this.auth.SignOut()}}return t.\u0275fac=function(e){return new(e||t)(l.Ob(d.a),l.Ob(u.a),l.Ob(c.T),l.Ob(U))},t.\u0275cmp=l.Ib({type:t,selectors:[["app-admin-dashboard"]],decls:42,vars:9,consts:[["fullscreen",""],["size","9"],["color","medium"],["color","secondary"],["button","","class","ion-text-wrap",3,"click",4,"ngFor","ngForOf"],["size","3"],[4,"ngFor","ngForOf"],[1,"card-subtitle-global"],["color","dark"],[1,"toolbar-global"],["inputmode","search","type","search","autocomplete","on","animated","true",2,"border-radius","5em"],[1,"ion-text-center","ion-text-wrap"],["class","userlist",4,"ngFor","ngForOf"],["button","",1,"ion-text-wrap",3,"click"],["name","radio-button-off","color","light","slot","start",4,"ngIf"],["name","done-all","color","success","slot","start",4,"ngIf"],["color","light"],[1,"ion-text-wrap"],["slot","start"],["name","radio-button-off","color","light","slot","start"],["name","done-all","color","success","slot","start"],[3,"src"],[1,"userlist"],["color","dark",3,"hidden"],["color","tertiary",3,"hidden"]],template:function(t,e){1&t&&(l.Pb(0,"app-header"),l.Ub(1,"ion-content",0),l.Ub(2,"ion-grid"),l.Ub(3,"ion-row"),l.Ub(4,"ion-grid"),l.Ub(5,"ion-row"),l.Ub(6,"ion-col",1),l.Ub(7,"ion-card",2),l.Ub(8,"ion-card-header"),l.Ub(9,"ion-card-title"),l.Ub(10,"ion-label",3),l.Fc(11," Trouble Tickets "),l.Tb(),l.Tb(),l.Tb(),l.Ub(12,"ion-list"),l.Dc(13,C,17,9,"ion-item",4),l.hc(14,"async"),l.Tb(),l.Tb(),l.Tb(),l.Ub(15,"ion-col",5),l.Ub(16,"ion-card",2),l.Ub(17,"ion-card-header"),l.Ub(18,"ion-card-title"),l.Ub(19,"ion-label",3),l.Fc(20," Admins "),l.Tb(),l.Tb(),l.Tb(),l.Ub(21,"ion-list"),l.Dc(22,F,10,3,"ion-item",6),l.hc(23,"async"),l.Tb(),l.Tb(),l.Ub(24,"ion-card",2),l.Ub(25,"ion-card-header"),l.Ub(26,"ion-card-title"),l.Ub(27,"ion-label",3),l.Fc(28," All Users "),l.Tb(),l.Tb(),l.Ub(29,"ion-card-subtitle",7),l.Ub(30,"ion-label",8),l.Fc(31," Unpaid, Current & Cancelled "),l.Tb(),l.Tb(),l.Ub(32,"ion-toolbar",9),l.Pb(33,"ion-searchbar",10),l.Pb(34,"br"),l.Ub(35,"ion-text",8),l.Ub(36,"sup",11),l.Fc(37,"Search by any field"),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Ub(38,"ion-list"),l.Dc(39,w,17,6,"ion-item",12),l.hc(40,"async"),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Pb(41,"app-footer")),2&t&&(l.Cb(13),l.mc("ngForOf",l.ic(14,3,e.tickets)),l.Cb(9),l.mc("ngForOf",l.ic(23,5,e.admins)),l.Cb(17),l.mc("ngForOf",l.ic(40,7,e.users)))},directives:[T.a,c.o,c.s,c.G,c.n,c.h,c.j,c.l,c.y,c.z,o.k,c.k,c.P,c.H,c.Z,c.M,g.a,c.x,o.l,c.E,c.u,c.c],pipes:[o.b,o.e],styles:['body[_ngcontent-%COMP%]{counter-reset:user1}.userlist[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:before{counter-increment:user1;content:counter(user1) ": "}']}),t})()}];let P=(()=>{class t{}return t.\u0275mod=l.Mb({type:t}),t.\u0275inj=l.Lb({factory:function(e){return new(e||t)},imports:[[b.j.forChild(y)],b.j]}),t})(),k=(()=>{class t{}return t.\u0275mod=l.Mb({type:t}),t.\u0275inj=l.Lb({factory:function(e){return new(e||t)},imports:[[o.c,i.f,c.Q,r.a,P]]}),t})()}}]);